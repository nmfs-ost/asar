<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Build NOAA Stock Assessment Report â€¢ asar</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="bootstrap-toc.css">
<script src="bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="Build NOAA Stock Assessment Report">
<meta property="og:description" content="Build a full or update stock assessment report for any stock assessment model. Parameterization allows the user to call a template based on their regional science center, species, area, ect.">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">


    <div class="container template-home">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">asar</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">1.4.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="index.html">
    <span class="fas fa-home fa-lg"></span>

  </a>
</li>
<li>
  <a href="reference/index.html">
    <span class="far fa-file-code fa-lg"></span>

    Functions
  </a>
</li>
<li>
  <a href="asar-cheatsheet.pdf">
    <span class="fa fa-solid fa-key"></span>

    Cheatsheet
  </a>
</li>
<li>
  <a href="https://connect.fisheries.noaa.gov/asar_tutorial/" class="external-link">
    <span class="fa fa-regular fa-map"></span>

    Tutorial
  </a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    <span class="fas fa-file-contract fa-lg"></span>

    Articles

    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="articles/manual.html">Manual</a>
    </li>
    <li>
      <a href="articles/markdown_notation.html">Markdown Notation</a>
    </li>
    <li>
      <a href="articles/regional_workflows.html">Regional Workflows</a>
    </li>
    <li>
      <a href="articles/accessibility_guide.html">Accessibility</a>
    </li>
    <li>
      <a href="articles/custom-figs-tabs.html">Custom Figures &amp; Tables</a>
    </li>
    <li>
      <a href="articles/convert_output_details.html">Standardizing Assessment Model Output</a>
    </li>
    <li>
      <a href="articles/faqs.html">Frequently Asked Questions (FAQs)</a>
    </li>
    <li>
      <a href="articles/caps-alttext-alt-workflows.html">Captions/alt text in Alternative Workflows</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    <span class="fas fa-book fa-lg"></span>

    References

    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="SAR_USWC_Petrale_sole_skeleton.pdf">Petrale Example</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/nmfs-ost/asar/issues" class="external-link">
    <span class="fas fa-question-circle fa-lg"></span>

    Issues
  </a>
</li>
<li>
  <a href="https://github.com/nmfs-ost/asar/" class="external-link">
    <span class="fab fa-github fa-lg"></span>

  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->



      </header><div class="row">
  <div class="contents col-md-9">
<div class="section level1">
<div class="page-header"><h1 id="asar-automated-stock-assessment-reporting-">asar (Automated Stock Assessment Reporting) <img src="reference/figures/asar-hex.png" align="right" height="200" style="float:right; height:200px;"><a class="anchor" aria-label="anchor" href="#asar-automated-stock-assessment-reporting-"></a>
</h1></div>
<!-- badges: start -->

<p>Download using the directions below and fill in <code>create_template.R</code> function with the desired parameters (follow example below) to create a template Quarto document to be rendered to create a stock assessment report.</p>
<p>The goal of ASAR is to automate stock assessment reports for NOAA science centers so they are reproducible and cohesive across the agency. This project intends to create a streamlined workflow that allows the analyst to create a customized report tailored to their needs and requirements by the SSC, council, or other regional management organizations.</p>
<p>For users interested in testing, please see <a href="#id_-testing-section">Testing</a> section below. In its current form, this package builds a template to create a stock assessment report including NOAA Fisheries formatting and included tables and figures.</p>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<p>First please check to make sure <code>tinytex</code> package is installed on your machine. If not, please install using the following lines:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"pak"</span><span class="op">)</span></span>
<span><span class="fu">pak</span><span class="fu">::</span><span class="fu"><a href="https://pak.r-lib.org/reference/pkg_install.html" class="external-link">pkg_install</a></span><span class="op">(</span><span class="st">"rstudio/tinytex"</span><span class="op">)</span></span></code></pre></div>
<p>Then install the package using one of the three following ways:</p>
<ol style="list-style-type: decimal">
<li>Using <code>pak</code>
</li>
</ol>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"pak"</span><span class="op">)</span></span>
<span><span class="fu">pak</span><span class="fu">::</span><span class="fu"><a href="https://pak.r-lib.org/reference/pak.html" class="external-link">pak</a></span><span class="op">(</span><span class="st">"nmfs-ost/asar"</span><span class="op">)</span></span></code></pre></div>
<ol start="2" style="list-style-type: decimal">
<li>Using <code>remotes</code>
</li>
</ol>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"remotes"</span><span class="op">)</span></span>
<span><span class="fu">remotes</span><span class="fu">::</span><span class="fu">install_github</span><span class="op">(</span><span class="st">"nmfs-ost/asar"</span><span class="op">)</span></span></code></pre></div>
<ol start="3" style="list-style-type: decimal">
<li>From the nmfs-ost r-universe</li>
</ol>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"asar"</span>, repos <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"https://nmfs-ost.r-universe.dev"</span>, <span class="st">"https://cloud.r-project.org"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p>We also recommend to download the <a href="https://github.com/nmfs-ost/stockplotr" class="external-link"><code>stockplotr</code> package</a>. Use one of the previous download instructions to also install <code>stockplotr</code> by replacing â€˜asarâ€™ with â€˜stockplotrâ€™.</p>
</div>
<div class="section level2">
<h2 id="example">Example<a class="anchor" aria-label="anchor" href="#example"></a>
</h2>
<p>The following code will allow the user to replicate the <a href="https://www.pcouncil.org/documents/2024/02/status-of-petrale-sole-eopsetta-jordanialong-the-u-s-west-coast-in-2023.pdf/" class="external-link">2023 petrale sole stock assessment</a> produced by the NWFSC and made available by the Pacific Fisheries Management Council. The assessment model files are also available on the PFMCâ€™s website. A tutorial for using <code>asar</code> can be found <a href="https://connect.fisheries.noaa.gov/asar_tutorial/" class="external-link">here</a>.</p>
<p>The SS3 Report.sso files was converted using the following code:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">output</span> <span class="op">&lt;-</span> <span class="fu">asar</span><span class="fu">::</span><span class="fu"><a href="reference/convert_output.html">convert_output</a></span><span class="op">(</span></span>
<span>  file <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"extdata"</span>, <span class="st">"Report.sso"</span>, package <span class="op">=</span> <span class="st">"asar"</span><span class="op">)</span>,</span>
<span>  model <span class="op">=</span> <span class="st">"ss3"</span>,</span>
<span>  save_dir <span class="op">=</span> <span class="fu">here</span><span class="fu">::</span><span class="fu"><a href="https://here.r-lib.org/reference/here.html" class="external-link">here</a></span><span class="op">(</span><span class="st">"readme_output.rda"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p>In this function, the users have the option to convert output files to a standardized framework from either SS3 (Report.sso) or BAM (.rdat) output files. <code>asar</code> uses this converted output from the environment to calculate quantities in the preamble and it is also used for creating plots and tables from <a href="https://github.com/nmfs-ost/stockplotr" class="external-link"><code>stockplotr</code></a>.</p>
<p>To proceed, the user should then run the following:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">asar</span><span class="fu">::</span><span class="fu"><a href="reference/create_template.html">create_template</a></span><span class="op">(</span></span>
<span>  format <span class="op">=</span> <span class="st">"pdf"</span>,</span>
<span>  office <span class="op">=</span> <span class="st">"NWFSC"</span>,</span>
<span>  region <span class="op">=</span> <span class="st">"U.S. West Coast"</span>,</span>
<span>  species <span class="op">=</span> <span class="st">"Petrale sole"</span>,</span>
<span>  spp_latin <span class="op">=</span> <span class="st">"Eopsetta jordani"</span>,</span>
<span>  year <span class="op">=</span> <span class="fl">2023</span>,</span>
<span>  author <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Ian G. Taylor"</span><span class="op">=</span><span class="st">"NWFSC"</span>, <span class="st">"Vladlena Gertseva"</span><span class="op">=</span><span class="st">"NWFSC"</span>, <span class="st">"Nick Tolimieri"</span><span class="op">=</span><span class="st">"NWFSC"</span><span class="op">)</span>,</span>
<span>  include_affiliation <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  simple_affiliation <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  param_names <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"nf"</span>,<span class="st">"sf"</span><span class="op">)</span>,</span>
<span>  param_values <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"North fleet"</span>, <span class="st">"South fleet"</span><span class="op">)</span>,</span>
<span>  model_results <span class="op">=</span> <span class="fu">here</span><span class="fu">::</span><span class="fu"><a href="https://here.r-lib.org/reference/here.html" class="external-link">here</a></span><span class="op">(</span><span class="st">"readme_output.rda"</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p>Note: The output of this report is an example based on a real stock assessment. Please refer to the link in the beginning of this section for the full assessment report.</p>
</div>
<div class="section level2">
<h2 id="testing">Testing<a class="anchor" aria-label="anchor" href="#testing"></a>
</h2>
<p>We encourage users to test <code>asar</code> throughout its development. Please use the above example to get a basic understanding on how to create a stock assessment template. <strong>Currently, <code>asar</code> is only setup to render to a pdf or html.</strong> Once the user successfully executes <code><a href="reference/create_template.html">create_template()</a></code>, all files are created and the user can render the document from the skeleton file:</p>
<p><img src="reference/figures/example_pop-up.PNG" alt="A basic skeleton produced by asar displaying the beginning of the quarto document called the yaml. The image shows the title, author, and other important formatting arguments to render a quarto document."></p>
<p>All associated files will be created in a folder called <code>report</code> within the <code>file_dir</code> argument path (default working directory).</p>
<p><img src="reference/figures/example_file_system.PNG" alt="A screenshot of a file explorer showing the outline of quarto documents produced when running create template function from a.s.a.r. There are 15 quarto documents, a bib file, a glossary latex file, and a folder containing support files that dictate report format."></p>
<p>This is a modularized template, there is no need to make any edits to the skeleton file. To write the report, user should navigate and open each supporting section Quarto document labeled:</p>
<ul>
<li>Executive Summary</li>
<li>Introduction</li>
<li>Data</li>
<li>Assessment</li>
<li>Discussion</li>
<li>Acknowledgments</li>
<li>References</li>
<li>Tables</li>
<li>Figures</li>
<li>Appendix</li>
</ul>
</div>
<div class="section level2">
<h2 id="contributions">Contributions<a class="anchor" aria-label="anchor" href="#contributions"></a>
</h2>
<p>Have you identified any suggestions for improvement, bugs, or questions? Please see our <a href="https://github.com/nmfs-ost/asar/blob/main/CONTRIBUTING.md" class="external-link">Contributing page</a> for more information on how to make effective contributions to <code>asar</code>.</p>
<p>Thank you for helping us improve this package!</p>
</div>
<div class="section level2">
<h2 id="tips">Tips<a class="anchor" aria-label="anchor" href="#tips"></a>
</h2>
<p>If you have additional questions, there is a helpful Q&amp;A guide available in the articles section of our GitHub Page located <a href="https://nmfs-ost.github.io/asar/articles/faqs.html">here</a>.</p>
</div>
<div class="section level2">
<h2 id="user-community">User Community<a class="anchor" aria-label="anchor" href="#user-community"></a>
</h2>
<p>This package is intended for use by stock assessment analysts across NOAA Fisheries, but the modularized process and workflow can be used in other applications such as developing other reports for managing organizations or for rendering stock assessment reports in other regions of the world.</p>
<p>Feel free to report any issues with the package to the <a href="https://github.com/nmfs-ost/asar/issues" class="external-link">GitHub Issues Page</a> and any questions regarding the package on the <a href="https://github.com/nmfs-ost/asar/discussions" class="external-link">GitHub discussion board</a>. Before you create an issue, please see the status at the beginning of this page to check if the package is operational or still in early stages of development.</p>
</div>
<div class="section level2">
<h2 id="code-of-conduct">Code of Conduct<a class="anchor" aria-label="anchor" href="#code-of-conduct"></a>
</h2>
<p>We as members, contributors, and leaders pledge to make participation in our community a harassment-free experience for everyone, regardless of age, body size, visible or invisible disability, ethnicity, sex characteristics, gender identity and expression, level of experience, education, socio-economic status, nationality, personal appearance, race, caste, color, religion, or sexual identity and orientation. We pledge to act and interact in ways that contribute to an open, welcoming, diverse, inclusive, and healthy community.</p>
<p>All contributors participating and contributing to the asar project are expected to adhere to the <a href="https://github.com/nmfs-ost/asar/blob/main/CODE_OF_CONDUCT.md" class="external-link">Code of Conduct</a>.</p>
</div>
<div class="section level2">
<h2 id="disclaimer">Disclaimer<a class="anchor" aria-label="anchor" href="#disclaimer"></a>
</h2>
<p>This repository is a scientific product and is not official communication of the National Oceanic and Atmospheric Administration, or the United States Department of Commerce. All NOAA GitHub project code is provided on an â€˜as isâ€™ basis and the user assumes responsibility for its use. Any claims against the Department of Commerce or Department of Commerce bureaus stemming from the use of this GitHub project will be governed by all applicable Federal laws. Any reference to specific commercial products, processes, or services by service mark, trademark, manufacturer, or otherwise, does not constitute or imply their endorsement, recommendation, or favoring by the Department of Commerce. The Department of Commerce seal and logo, or the seal and logo of a DOC bureau, shall not be used in any manner to imply endorsement of any commercial product or activity by DOC or the United States Government.</p>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/nmfs-ost/asar/" class="external-link">Browse source code</a></li>
<li><a href="https://github.com/nmfs-ost/asar/issues" class="external-link">Report a bug</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small><a href="https://opensource.org/licenses/mit-license.php" class="external-link">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a></small></li>
</ul>
</div>

<div class="community">
<h2 data-toc-skip>Community</h2>
<ul class="list-unstyled">
<li><a href="CONTRIBUTING.html">Contributing guide</a></li>
<li><a href="CODE_OF_CONDUCT.html">Code of conduct</a></li>
</ul>
</div>

<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing asar</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Samantha Schiano <br><small class="roles"> Author, maintainer </small> <a href="https://orcid.org/0009-0003-3744-6428" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a>  </li>
<li>Sophie Breitbart <br><small class="roles"> Author, contributor </small> <a href="https://orcid.org/0000-0001-9641-9786" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a>  </li>
<li>Steve Saul <br><small class="roles"> Author, contributor </small>   </li>
<li><a href="authors.html">More about authors...</a></li>
</ul>
</div>

<div class="dev-status">
<h2 data-toc-skip>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://lifecycle.r-lib.org/articles/stages.html#experimental" class="external-link"><img src="https://img.shields.io/badge/lifecycle-experimental-orange.svg" alt="Lifecycle: experimental"></a></li>
<li><a href="https://github.com/nmfs-ost/asar/actions/workflows/call-r-cmd-check.yml" class="external-link"><img src="https://github.com/nmfs-ost/asar/actions/workflows/call-r-cmd-check.yml/badge.svg" alt="R-CMD-check"></a></li>
<li><a href="https://github.com/nmfs-ost/asar/tree/badges" class="external-link"><img src="https://img.shields.io/endpoint?url=https://raw.githubusercontent.com/nmfs-ost/asar/refs/heads/badges/coverage-badge.json" alt="coverage"></a></li>
</ul>
</div>

  </div>
</div>


      <footer><div class="copyright">
  <p></p>
<p>Developed by Samantha Schiano, Sophie Breitbart, Steve Saul.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

      </footer>
</div>






  </body>
</html>
