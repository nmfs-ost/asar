<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Adding Custom Tables and Figures • asar</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Adding Custom Tables and Figures">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">


    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">asar</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">1.5.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>

  </a>
</li>
<li>
  <a href="../reference/index.html">
    <span class="far fa-file-code fa-lg"></span>

    Functions
  </a>
</li>
<li>
  <a href="../asar_cheatsheet.pdf">
    <span class="fa fa-solid fa-key"></span>

    Cheatsheet
  </a>
</li>
<li>
  <a href="https://connect.fisheries.noaa.gov/asar_tutorial/" class="external-link">
    <span class="fa fa-regular fa-map"></span>

    Tutorial
  </a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    <span class="fas fa-file-contract fa-lg"></span>

    Articles

    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/manual.html">Manual</a>
    </li>
    <li>
      <a href="../articles/markdown_notation.html">Markdown Notation</a>
    </li>
    <li>
      <a href="../articles/regional_workflows.html">Regional Workflows</a>
    </li>
    <li>
      <a href="../articles/accessibility_guide.html">Accessibility</a>
    </li>
    <li>
      <a href="../articles/custom-figs-tabs.html">Custom Figures &amp; Tables</a>
    </li>
    <li>
      <a href="../articles/convert_output_details.html">Standardizing Assessment Model Output</a>
    </li>
    <li>
      <a href="../articles/faqs.html">Frequently Asked Questions (FAQs)</a>
    </li>
    <li>
      <a href="../articles/caps-alttext-alt-workflows.html">Captions/alt text in Alternative Workflows</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    <span class="fas fa-book fa-lg"></span>

    References

    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../SAR_USWC_Petrale_sole_skeleton.pdf">Petrale Example</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/nmfs-ost/asar/issues" class="external-link">
    <span class="fas fa-question-circle fa-lg"></span>

    Issues
  </a>
</li>
<li>
  <a href="https://github.com/nmfs-ost/asar/" class="external-link">
    <span class="fab fa-github fa-lg"></span>

  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->



      </header><link href="custom-figs-tabs_files/tabwid-1.1.3/tabwid.css" rel="stylesheet">
<script src="custom-figs-tabs_files/tabwid-1.1.3/tabwid.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Adding Custom Tables and Figures</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/nmfs-ost/asar/blob/main/vignettes/custom-figs-tabs.Rmd" class="external-link"><code>vignettes/custom-figs-tabs.Rmd</code></a></small>
      <div class="hidden name"><code>custom-figs-tabs.Rmd</code></div>

    </div>

    
    
<div class="section level2">
<h2 id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h2>
<p>The main way to create tables and figures for your <code>asar</code>
report is by using functions within the <code>stockplotr</code> package.
However, if <code>stockplotr</code> doesn’t contain the functions to
make tables or figures you need, you may wish to add custom tables or
figures to your report. Here, we provide multiple workflow options for
doing so.</p>
<div class="section level3">
<h3 id="choose-your-workflow">Choose your workflow<a class="anchor" aria-label="anchor" href="#choose-your-workflow"></a>
</h3>
<div class="section level4">
<h4 id="comparing-workflows">Comparing workflows<a class="anchor" aria-label="anchor" href="#comparing-workflows"></a>
</h4>
<div class="tabwid">
<style>.cl-56728aa4{}.cl-566bdb14{font-family:'DejaVu Sans';font-size:11pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-566bdb28{font-family:'DejaVu Sans';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-566e70b8{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-566e70c2{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-566e8e0e{width:2.897in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-566e8e18{width:14.677in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-566e8e19{width:14.409in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-566e8e1a{width:8.814in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-566e8e22{width:10.595in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-566e8e23{width:2.897in;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-566e8e24{width:14.677in;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-566e8e2c{width:14.409in;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-566e8e2d{width:8.814in;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-566e8e2e{width:10.595in;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-566e8e2f{width:2.897in;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-566e8e30{width:14.677in;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-566e8e36{width:14.409in;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-566e8e37{width:8.814in;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-566e8e38{width:10.595in;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-566e8e39{width:2.897in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-566e8e40{width:14.677in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-566e8e41{width:14.409in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-566e8e42{width:8.814in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-566e8e43{width:10.595in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style>
<table data-quarto-disable-processing="true" class="table cl-56728aa4">
<caption style="display:table-caption;margin:0pt;text-align:center;border-bottom: 0.00pt solid transparent;border-top: 0.00pt solid transparent;border-left: 0.00pt solid transparent;border-right: 0.00pt solid transparent;padding-top:3pt;padding-bottom:3pt;padding-left:3pt;padding-right:3pt;line-height: 1;background-color:transparent;"><span>Workflow options for adding custom tables and figures to your report.</span></caption>
<thead><tr style="overflow-wrap:break-word;">
<th class="cl-566e8e0e"><p class="cl-566e70b8"><span class="cl-566bdb14">Option</span></p></th>
<th class="cl-566e8e18"><p class="cl-566e70b8"><span class="cl-566bdb14">Summary</span></p></th>
<th class="cl-566e8e19"><p class="cl-566e70b8"><span class="cl-566bdb14">Appropriate if...</span></p></th>
<th class="cl-566e8e1a"><p class="cl-566e70b8"><span class="cl-566bdb14">Pros</span></p></th>
<th class="cl-566e8e22"><p class="cl-566e70b8"><span class="cl-566bdb14">Cons</span></p></th>
</tr></thead>
<tbody>
<tr style="overflow-wrap:break-word;">
<td class="cl-566e8e23"><p class="cl-566e70c2"><span class="cl-566bdb28">1: direct image insertion workflow</span></p></td>
<td class="cl-566e8e24"><p class="cl-566e70c2"><span class="cl-566bdb28">In this workflow, you will take minimal steps to add an external file to your report in this format:</span><br><br><span class="cl-566bdb28">    ![Your caption here](your_image.png){width=___in #fig-your_image_label_name}</span></p></td>
<td class="cl-566e8e2c"><p class="cl-566e70c2"><span class="cl-566bdb28">- You don't need to package your table/figure, caption, and alternative text in a single file</span><br><br><br><span class="cl-566bdb28">- Your table/figure is already saved as an external file (e.g., a png)</span><br><br><br><span class="cl-566bdb28">- Each table/figure is at most 8" wide, or can be shrunken to 8" wide and still be legible</span></p></td>
<td class="cl-566e8e2d"><p class="cl-566e70c2"><span class="cl-566bdb28">- Faster process than option 2</span></p></td>
<td class="cl-566e8e2e"><p class="cl-566e70c2"><span class="cl-566bdb28">- Less reproducible</span><br><br><br><span class="cl-566bdb28">- Files (i.e., table/figure, caption, and alternative text) aren't saved in a consistent and predictable system</span><br><br><br><span class="cl-566bdb28">- Captions and alternative text aren't saved with other figures'/tables' texts</span><br><br><br><span class="cl-566bdb28">- Table text is not machine-readable, creating a barrier for accessibility</span></p></td>
</tr>
<tr style="overflow-wrap:break-word;">
<td class="cl-566e8e2f"><p class="cl-566e70c2"><span class="cl-566bdb28">2: rda-based workflow</span></p></td>
<td class="cl-566e8e30"><p class="cl-566e70c2"><span class="cl-566bdb28">In this workflow, you will make an rda containing your table/figure, caption, and alternative text, then add each into your report in the same way that non-custom tables/figures are added.</span></p></td>
<td class="cl-566e8e36"><p class="cl-566e70c2"><span class="cl-566bdb28">- You'd like to create and save your custom tables/figures in a manner that's most consistent with your other tables/figures generated with asar's complementary R package, stockplotr</span></p></td>
<td class="cl-566e8e37"><p class="cl-566e70c2"><span class="cl-566bdb28">- More reproducible</span><br><br><br><span class="cl-566bdb28">- Saves and stores custom tables/figures in a way that mirrors existing tables/figures generated with stockplotr</span></p></td>
<td class="cl-566e8e38"><p class="cl-566e70c2"><span class="cl-566bdb28">- Slower process than options 1 &amp; 3</span></p></td>
</tr>
<tr style="overflow-wrap:break-word;">
<td class="cl-566e8e39"><p class="cl-566e70c2"><span class="cl-566bdb28">3: direct coding-in-qmd workflow</span></p></td>
<td class="cl-566e8e40"><p class="cl-566e70c2"><span class="cl-566bdb28">In this workflow, you will code, and plot, your table or figure directly in a Quarto document.</span></p></td>
<td class="cl-566e8e41"><p class="cl-566e70c2"><span class="cl-566bdb28">- You don't need to package your table/figure, caption, and alternative text in a single file</span><br><br><br><span class="cl-566bdb28">- You don't need to export your table/figure</span><br><br><br><span class="cl-566bdb28">- Each table/figure is at most 8" wide, or can be shrunken to 8" wide and still be legible)</span></p></td>
<td class="cl-566e8e42"><p class="cl-566e70c2"><span class="cl-566bdb28">- Faster process than option 2</span><br><br><br><span class="cl-566bdb28">- Not necessary to import any files to display a table/figure</span></p></td>
<td class="cl-566e8e43"><p class="cl-566e70c2"><span class="cl-566bdb28">- Less reproducible</span><br><br><br><span class="cl-566bdb28">- Files (i.e., table/figure, caption, and alternative text) aren't exported, and therefore not saved in a consistent and predictable system</span><br><br><br><span class="cl-566bdb28">- Captions and alternative text aren't saved with other figures'/tables' texts</span></p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section level4">
<h4 id="main-steps-in-each-workflow">Main steps in each workflow<a class="anchor" aria-label="anchor" href="#main-steps-in-each-workflow"></a>
</h4>
<div class="section level5">
<h5 id="direct-image-insertion-workflow-option-1">Direct image insertion workflow (option 1)<a class="anchor" aria-label="anchor" href="#direct-image-insertion-workflow-option-1"></a>
</h5>
<ol style="list-style-type: decimal">
<li><a href="#sec-write-caps-alttext">Write captions and alternative
text</a></li>
<li><a href="#sec-set-up-qmd">Set up Quarto markdown (.qmd) files to
display custom tables and figures</a></li>
<li><a href="#sec-update-skeleton">Update report skeleton</a></li>
</ol>
</div>
<div class="section level5">
<h5 id="rda-based-workflow-option-2">rda-based workflow (option 2)<a class="anchor" aria-label="anchor" href="#rda-based-workflow-option-2"></a>
</h5>
<ol style="list-style-type: decimal">
<li><a href="#code-your-custom-tables-and-figures">Code your custom
tables and figures</a></li>
<li><a href="#sec-write-caps-alttext">Write captions and alternative
text</a></li>
<li><a href="#export-your-custom-tables-and-figures">Export your custom
tables and figures</a></li>
<li><a href="#sec-id_width">Identify table width, orientation, and if
splitting is necessary</a></li>
<li><a href="#sec-set-up-qmd">Set up Quarto markdown (.qmd) files to
display custom tables and figures</a></li>
<li><a href="#sec-update-skeleton">Update report skeleton</a></li>
</ol>
</div>
<div class="section level5">
<h5 id="direct-coding-in-qmd-workflow-option-3">Direct coding-in-qmd workflow (option 3)<a class="anchor" aria-label="anchor" href="#direct-coding-in-qmd-workflow-option-3"></a>
</h5>
<ol style="list-style-type: decimal">
<li><a href="#code-your-custom-tables-and-figures">Code your custom
tables and figures</a></li>
<li><a href="#sec-write-caps-alttext">Write captions and alternative
text</a></li>
<li><a href="#sec-id_width">Identify table width, orientation, and if
splitting is necessary</a></li>
<li><a href="#sec-set-up-qmd">Set up Quarto markdown (.qmd) files to
display custom tables and figures</a></li>
<li><a href="#sec-update-skeleton">Update report skeleton</a></li>
</ol>
</div>
</div>
</div>
</div>
<div class="section level2">
<h2 id="code-your-custom-tables-and-figures">Code your custom tables and figures<a class="anchor" aria-label="anchor" href="#code-your-custom-tables-and-figures"></a>
</h2>
<p><em>Using the direct image insertion workflow (option 1)? Skip this
step and proceed to the</em> <a href="#sec-write-caps-alttext">Write
captions and alternative text</a> <em>section.</em></p>
<p>First, write the code to produce (but not export; that’s a future
step!) your custom tables and figures. Save each table and figure as an
object (e.g., in the examples below, <code>your_table</code> and
<code>your_figure</code>). Save the script somewhere safe.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Example dataframe</span></span>
<span><span class="va">your_df</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span>
<span>  <span class="st">"x"</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">2</span>, <span class="fl">3</span><span class="op">)</span>,</span>
<span>  <span class="st">"y"</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">4</span>, <span class="fl">5</span>, <span class="fl">6</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Example table</span></span>
<span><span class="va">your_table</span> <span class="op">&lt;-</span> <span class="fu">flextable</span><span class="fu">::</span><span class="fu"><a href="https://davidgohel.github.io/flextable/reference/flextable.html" class="external-link">flextable</a></span><span class="op">(</span><span class="va">your_df</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Example figure</span></span>
<span><span class="va">your_figure</span> <span class="op">&lt;-</span> <span class="fu">ggplot2</span><span class="fu">::</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span></span>
<span>  <span class="va">your_df</span>,</span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span></span>
<span>    x <span class="op">=</span> <span class="va">x</span>,</span>
<span>    y <span class="op">=</span> <span class="va">y</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">ggplot2</span><span class="fu">::</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html" class="external-link">geom_point</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="sec-write-caps-alttext">Write captions and alternative text<a class="anchor" aria-label="anchor" href="#sec-write-caps-alttext"></a>
</h2>
<p>Next, once you know what your tables and figures look like, write
your own captions and alternative text. Custom tables will require
captions only.</p>
<div class="section level3">
<h3 id="writing-text">Writing text<a class="anchor" aria-label="anchor" href="#writing-text"></a>
</h3>
<p>Check out the <code>stockplotr</code> <a href="https://github.com/nmfs-ost/stockplotr/blob/master/inst/resources/captions_alt_text_template.csv" class="external-link">‘captions_alt_text_template.csv’
file</a>, which contains the templates for each table or figure’s
caption/alternative text, to get a sense of how each description is
structured. Then, refer to <a href="https://nmfs-ost.github.io/asar/articles/accessibility_guide.html">the
accessibility vignette’s guide</a> to learn how to write clear and
comprehensive alternative text.</p>
<p>We recommend adding in key quantities, like maximum and minimum
values, to ensure your captions and alternative text clearly describe
your plots. For example, if you’re showing how biomass changed over
time, we recommend providing the maximum and minimum values of biomass
and years shown, instead of simply stating that a figure shows biomass
changing over time. Check out the code within <a href="https://github.com/nmfs-ost/stockplotr/blob/master/R/write_captions.R" class="external-link">the
<code>stockplotr::write_captions()</code> function</a> to see how we
extract certain key quantities from the model results files. You are
welcome to use and adapt that code to your own results to calculate key
quantities, or calculate the quantities with your own code.</p>
</div>
<div class="section level3">
<h3 id="saving-text">Saving text<a class="anchor" aria-label="anchor" href="#saving-text"></a>
</h3>
<p><em>Using the direct coding-in-qmd workflow (option 3)? Skip this
step and proceed to <a href="#sec-id_width">Identify table width,
orientation, and if splitting is necessary</a>.</em></p>
<p>Once written, you’ll have to save your captions and alternative
text.</p>
<p>Do you have an existing captions_alt_text.csv file? If you’ve already
generated a figure or table rda, this file should exist, most likely in
your working directory. If you don’t have one, run
<code><a href="https://rdrr.io/pkg/stockplotr/man/write_captions.html" class="external-link">stockplotr::write_captions()</a></code> or another
<code>stockplotr</code> plotting function (e.g.,
<code>plot_biomass()</code>, <code>table_bnc()</code>) to generate the
file.</p>
<p>Open captions_alt_text.csv file, then add your text. The file is set
up like this:</p>
<ul>
<li>Column 1 (“label”) is a shorthand label for your figure or table.
Labels should be somewhat short and exclude spaces. Examples include
“kobe”, “relative.biomass”, and “fishing.mortality”.</li>
<li>Column 2 (“type”) contains “figure” or “table”.</li>
<li>Column 3 (“caption”) contains your caption.</li>
<li>Column 4 (“alt_text”) contains alternative text for figures. For
tables, this column will be blank.</li>
</ul>
<table style="width:98%;" class="table">
<caption>Format for csv containing table and figure captions and
alternative text.</caption>
<colgroup>
<col width="14%">
<col width="13%">
<col width="30%">
<col width="39%">
</colgroup>
<thead><tr class="header">
<th>label</th>
<th>type</th>
<th>caption</th>
<th>alt_text</th>
</tr></thead>
<tbody>
<tr class="odd">
<td>example_fig</td>
<td>figure</td>
<td>Example caption for figure.</td>
<td>Example alternative text for figure.</td>
</tr>
<tr class="even">
<td>example_tab</td>
<td>table</td>
<td>Example caption for table.</td>
<td></td>
</tr>
</tbody>
</table>
<blockquote>
<p><strong>NOTE</strong>: If you are using the direct image insertion
workflow (option 1), only the <em>alternative text</em> will be used in
your final report- not the caption. This happens because of the
workaround workflow that allows us to add alt text into PDFs. The
caption will be taken from your directly-coded image’s markdown code, so
you can leave it empty or put the same caption here; it doesn’t
matter.</p>
</blockquote>
</div>
</div>
<div class="section level2">
<h2 id="export-your-custom-tables-and-figures">Export your custom tables and figures<a class="anchor" aria-label="anchor" href="#export-your-custom-tables-and-figures"></a>
</h2>
<p><em>Using the direct image insertion workflow (option 1)? Skip this
step and proceed to <a href="#sec-set-up-qmd">Set up Quarto markdown
(.qmd) files to display custom tables and figures</a>.</em></p>
<p>Next, export your tables and figures to rda files. This code was
adapted from functions like <code><a href="https://rdrr.io/pkg/stockplotr/man/plot_biomass.html" class="external-link">stockplotr::plot_biomass</a></code>.</p>
<div class="section level3">
<h3 id="import-pre-written-captions-and-alternative-text">Import pre-written captions and alternative text<a class="anchor" aria-label="anchor" href="#import-pre-written-captions-and-alternative-text"></a>
</h3>
<p>Import your csv containing your captions and alternative text and
save it as an object. Then, save the captions and alternative text as
separate objects. For example:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Import captions and alternative text</span></span>
<span><span class="va">my_text</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/utils/read.table.html" class="external-link">read.csv</a></span><span class="op">(</span>file <span class="op">=</span> <span class="st">"captions_alt_text.csv"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Extract table caption</span></span>
<span><span class="va">my_table_cap</span> <span class="op">&lt;-</span> <span class="va">my_text</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span></span>
<span>    <span class="va">label</span> <span class="op">==</span> <span class="st">"example_table"</span>,</span>
<span>    <span class="va">type</span> <span class="op">==</span> <span class="st">"table"</span></span>
<span>  <span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">caption</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/character.html" class="external-link">as.character</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Extract figure caption</span></span>
<span><span class="va">my_figure_cap</span> <span class="op">&lt;-</span> <span class="va">my_text</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span></span>
<span>    <span class="va">label</span> <span class="op">==</span> <span class="st">"example_fig"</span>,</span>
<span>    <span class="va">type</span> <span class="op">==</span> <span class="st">"figure"</span></span>
<span>  <span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">caption</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/character.html" class="external-link">as.character</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Extract figure alternative text</span></span>
<span><span class="va">my_figure_alt_text</span> <span class="op">&lt;-</span> <span class="va">my_text</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span></span>
<span>    <span class="va">label</span> <span class="op">==</span> <span class="st">"example_fig"</span>,</span>
<span>    <span class="va">type</span> <span class="op">==</span> <span class="st">"figure"</span></span>
<span>  <span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">alt_text</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/character.html" class="external-link">as.character</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<blockquote>
<p><strong>NOTE</strong>: Your label must match the label associated
with your table or figure in your csv containing the captions and
alternative text. If it does not match, the label will not be extracted
properly and added to your rdas.</p>
</blockquote>
</div>
<div class="section level3">
<h3 id="make-rdas">Make rdas<a class="anchor" aria-label="anchor" href="#make-rdas"></a>
</h3>
<p>Your rdas will contain your table or figure, caption, and alternative
text (if it’s a figure).</p>
<div class="section level4">
<h4 id="tables">Tables<a class="anchor" aria-label="anchor" href="#tables"></a>
</h4>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">rda</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>  <span class="st">"table"</span> <span class="op">=</span> <span class="va">your_table</span>, <span class="co"># your table object</span></span>
<span>  <span class="st">"cap"</span> <span class="op">=</span> <span class="va">my_table_cap</span> <span class="co"># your table caption</span></span>
<span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="figures">Figures<a class="anchor" aria-label="anchor" href="#figures"></a>
</h4>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">rda</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>  <span class="st">"figure"</span> <span class="op">=</span> <span class="va">your_figure</span>, <span class="co"># your figure object</span></span>
<span>  <span class="st">"cap"</span> <span class="op">=</span> <span class="va">my_figure_cap</span>, <span class="co"># your figure caption</span></span>
<span>  <span class="st">"alt_text"</span> <span class="op">=</span> <span class="va">my_figure_alt_text</span> <span class="co"># your figure alternative text</span></span>
<span><span class="op">)</span></span></code></pre></div>
</div>
</div>
<div class="section level3">
<h3 id="make-figures-and-tables-folders-if-needed">Make ‘figures’ and ‘tables’ folders (if needed)<a class="anchor" aria-label="anchor" href="#make-figures-and-tables-folders-if-needed"></a>
</h3>
<p>Do you already have ‘figures’ and ‘tables’ folders? <em>Hint: both
should be in your working directory.</em> If yes: Great! You can skip
this step. If not, simply enter the code below to make a the
folders.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/files2.html" class="external-link">dir.create</a></span><span class="op">(</span><span class="fu">fs</span><span class="fu">::</span><span class="fu"><a href="https://fs.r-lib.org/reference/path.html" class="external-link">path</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/getwd.html" class="external-link">getwd</a></span><span class="op">(</span><span class="op">)</span>, <span class="st">"figures"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/files2.html" class="external-link">dir.create</a></span><span class="op">(</span><span class="fu">fs</span><span class="fu">::</span><span class="fu"><a href="https://fs.r-lib.org/reference/path.html" class="external-link">path</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/getwd.html" class="external-link">getwd</a></span><span class="op">(</span><span class="op">)</span>, <span class="st">"tables"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="export-your-rdas">Export your rdas<a class="anchor" aria-label="anchor" href="#export-your-rdas"></a>
</h3>
<div class="section level4">
<h4 id="tables-1">Tables<a class="anchor" aria-label="anchor" href="#tables-1"></a>
</h4>
<p>This will produce an rda called “example_tab.rda” and save it in your
‘tables’ folder.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/save.html" class="external-link">save</a></span><span class="op">(</span><span class="va">rda</span>,</span>
<span>  file <span class="op">=</span> <span class="fu">fs</span><span class="fu">::</span><span class="fu"><a href="https://fs.r-lib.org/reference/path.html" class="external-link">path</a></span><span class="op">(</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/getwd.html" class="external-link">getwd</a></span><span class="op">(</span><span class="op">)</span>, <span class="co"># this is your tables directory</span></span>
<span>    <span class="st">"tables"</span>,</span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span></span>
<span>      <span class="st">"example_tab.rda"</span> <span class="co"># your table's label</span></span>
<span>    <span class="op">)</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="figures-1">Figures<a class="anchor" aria-label="anchor" href="#figures-1"></a>
</h4>
<p>This will produce an rda called “example_fig.rda” and save it in your
‘figures’ folder.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/save.html" class="external-link">save</a></span><span class="op">(</span><span class="va">rda</span>,</span>
<span>  file <span class="op">=</span> <span class="fu">fs</span><span class="fu">::</span><span class="fu"><a href="https://fs.r-lib.org/reference/path.html" class="external-link">path</a></span><span class="op">(</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/getwd.html" class="external-link">getwd</a></span><span class="op">(</span><span class="op">)</span>, <span class="co"># this is your figures directory</span></span>
<span>    <span class="st">"figures"</span>,</span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span></span>
<span>      <span class="st">"example_fig.rda"</span> <span class="co"># your figure's label</span></span>
<span>    <span class="op">)</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
</div>
</div>
</div>
<div class="section level2">
<h2 id="sec-id_width">Identify table width, orientation, and if splitting is
necessary<a class="anchor" aria-label="anchor" href="#sec-id_width"></a>
</h2>
<p><em>Skip this section if you are not including custom
tables.</em></p>
<p>Your next step is to get a sense of your table dimensions. You’ll
ask:</p>
<ul>
<li>Will each fit neatly into a portrait orientation, or should the page
be rotated 90 degrees into landscape view?</li>
<li>Even in landscape view, is the table too wide to be shown properly,
and must be split into smaller tables?</li>
</ul>
<p>This section contains the steps to answer these questions.</p>
<blockquote>
<p><strong>NOTE</strong>: This workflow is reflected in the
create_tables_doc.R file and its associated functions (such as
<code><a href="../reference/render_lg_table.html">render_lg_table()</a></code>, <code><a href="../reference/ID_tbl_width_class.html">ID_tbl_width_class()</a></code> and
<code><a href="../reference/export_split_tbls.html">export_split_tbls()</a></code>).</p>
</blockquote>
<div class="section level3">
<h3 id="table-width-and-orientation">Table width and orientation<a class="anchor" aria-label="anchor" href="#table-width-and-orientation"></a>
</h3>
<div class="section level4">
<h4 id="sec-tbl-width-op2">rda-based workflow (option 2)<a class="anchor" aria-label="anchor" href="#sec-tbl-width-op2"></a>
</h4>
<p>Run this code:</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">my_plot_name</span> <span class="op">&lt;-</span> <span class="st">"example_tab.rda"</span> <span class="co"># replace this with the filename of your table rda</span></span>
<span><span class="va">tables_dir</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/getwd.html" class="external-link">getwd</a></span><span class="op">(</span><span class="op">)</span> <span class="co"># replace this with the location of your tables folder</span></span>
<span></span>
<span><span class="fu"><a href="../reference/ID_tbl_width_class.html">ID_tbl_width_class</a></span><span class="op">(</span></span>
<span>  plot_name <span class="op">=</span> <span class="va">my_plot_name</span>,</span>
<span>  tables_dir <span class="op">=</span> <span class="va">tables_dir</span>,</span>
<span>  portrait_pg_width <span class="op">=</span> <span class="fl">5</span> <span class="co"># 5 inches = the threshold for maximum table width before it needs to be resized, rotated, and/or split</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p>You will see one of three outputs: regular, wide, or extra-wide.</p>
<table style="width:98%;" class="table">
<caption>Table width classification system coded in the
<code>ID_tbl_width_class</code> function.</caption>
<colgroup>
<col width="25%">
<col width="18%">
<col width="34%">
<col width="18%">
</colgroup>
<tbody>
<tr class="odd">
<td><strong>Classification</strong></td>
<td align="center">Regular</td>
<td align="center">Wide</td>
<td align="center">Extra-wide</td>
</tr>
<tr class="even">
<td><strong>Table width</strong></td>
<td align="center">&lt; 5”</td>
<td align="center">at least 5” and up to 12”</td>
<td align="center">&gt;12”</td>
</tr>
</tbody>
</table>
<p><em>If your output is regular</em>, this means that you can display
your table in a .qmd chunk without any additional steps. Jump to section
<a href="#sec-set-up-qmd">Set up Quarto markdown (.qmd) files to display
custom tables and figures</a> and proceed.</p>
<p><em>If your output is wide</em>, this means that you will place your
table’s .qmd chunk in special braces that change the page orientation to
landscape. Jump to section <a href="#sec-set-up-qmd">Set up Quarto
markdown (.qmd) files to display custom tables and figures</a> and
proceed.</p>
<p><em>If your output is extra-wide</em>, this means that you will place
your table’s .qmd chunk in special braces that change the page
orientation to landscape <em>and</em> split it into narrower tables,
each of which are displayed on separate pages. Proceed to the section <a href="#sec-table-splitting">Table splitting (for extra-wide tables
only)</a>.</p>
</div>
<div class="section level4">
<h4 id="direct-coding-in-qmd-workflow-option-3-1">Direct coding-in-qmd workflow (option 3)<a class="anchor" aria-label="anchor" href="#direct-coding-in-qmd-workflow-option-3-1"></a>
</h4>
<p>Assuming your table is saved as a flextable, run this code:</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># assuming your flextable object is called my_flextable</span></span>
<span></span>
<span><span class="fu">flextable</span><span class="fu">::</span><span class="fu"><a href="https://davidgohel.github.io/flextable/reference/flextable_dim.html" class="external-link">flextable_dim</a></span><span class="op">(</span><span class="va">my_flextable</span><span class="op">)</span><span class="op">[[</span><span class="st">"widths"</span><span class="op">]</span><span class="op">]</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/numeric.html" class="external-link">as.numeric</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p>Refer to the table above in above section (<a href="#rda-based-workflow-option-2">rda-based workflow (option 2)</a>)
to find out which category best describes your table width: regular,
wide, or extra-wide.</p>
<p><em>If your table is regular or wide</em>, read the text below the
table and jump to the appropriate section.</p>
<p><em>If your table is extra-wide</em>, please start over and use the
rda-based workflow. This workflow is not built for the extra steps
needed to split an extra-wide table into multiple smaller tables.</p>
</div>
</div>
<div class="section level3">
<h3 id="sec-table-splitting">Table splitting (for extra-wide tables only)<a class="anchor" aria-label="anchor" href="#sec-table-splitting"></a>
</h3>
<p>Extra-wide tables will need to be split among multiple pages. Run
this code to learn the number of tables into which your original table
will be split <em>and</em> export the split tables (as a list) into a
new rda:</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">my_plot_name</span> <span class="op">&lt;-</span> <span class="st">"example_tab.rda"</span> <span class="co"># replace this with the filename of your table rda</span></span>
<span><span class="va">tables_dir</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/getwd.html" class="external-link">getwd</a></span><span class="op">(</span><span class="op">)</span> <span class="co"># replace this with the location of your tables folder</span></span>
<span><span class="va">essential_cols</span> <span class="op">&lt;-</span> <span class="fl">1</span><span class="op">:</span><span class="fl">2</span> <span class="co"># replace this with the columns that will be retained between the split tables, formatted as a sequence (e.g., 1:2 for columns 1-2, or 1 for a single column)</span></span>
<span></span>
<span><span class="fu"><a href="../reference/export_split_tbls.html">export_split_tbls</a></span><span class="op">(</span></span>
<span>  tables_dir <span class="op">=</span> <span class="va">tables_dir</span>,</span>
<span>  plot_name <span class="op">=</span> <span class="va">my_plot_name</span>,</span>
<span>  essential_columns <span class="op">=</span> <span class="va">essential_cols</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p>If the number returned was, say, 5, then since each split table must
be in its own chunk, you will need 5 chunks to show your split tables.
You will also need an additional chunk to load in the data. Each table
needs its own chunk, and therefore label, so that it can be
cross-referenced in text.</p>
<p>You can check out your split tables in the new rda saved in your
tables_dir folder. It will have the same filename as your original rda
except that it will contain “_split” in the filename. For instance,
split tables created from “example_tab.rda” will be saved in
“example_tab_table_split.rda”.</p>
</div>
</div>
<div class="section level2">
<h2 id="sec-set-up-qmd">Set up Quarto markdown (.qmd) files to display custom tables and
figures<a class="anchor" aria-label="anchor" href="#sec-set-up-qmd"></a>
</h2>
<p>You will create one .qmd file for your tables and one .qmd file for
your figures.</p>
<div class="section level3">
<h3 id="set-up-templates">Set up templates<a class="anchor" aria-label="anchor" href="#set-up-templates"></a>
</h3>
<p>Open a blank .qmd script (in RStudio, click File -&gt; New File -&gt;
Quarto Document -&gt; Create Empty Document (button in the bottom left
corner of the popup)).</p>
<p>Remove all text from the new document.</p>
<p>Switch from Visual to Source mode (<a href="https://quarto.org/docs/visual-editor/#switching-modes" class="external-link">instructions
here</a>).</p>
<p>Save this new file with a clear name in a logical location. We
recommend filenames like 08_tables_custom.qmd and 09_figures_custom.qmd,
then saving these files in the same report folder as the rest of your
report files. We include separate workflows for tables and figures,
below.</p>
<div class="section level4">
<h4 id="direct-image-insertion-workflow-option-1-1">Direct image insertion workflow (option 1)<a class="anchor" aria-label="anchor" href="#direct-image-insertion-workflow-option-1-1"></a>
</h4>
<div class="section level5">
<h5 id="identify-page-orientation">Identify page orientation<a class="anchor" aria-label="anchor" href="#identify-page-orientation"></a>
</h5>
<p>If you’re using this workflow, your table/figure should be at most 8”
wide or can be shrunken to 8” wide and still be legible. Find the width
of your image file. Would you prefer to show it on a page with a
portrait orientation (can fit 5” width) or landscape orientation (can
fit 8” width)?</p>
<p>Identify the preferred width of your image. Keep it in mind for when
you add your image in the next section.</p>
</div>
<div class="section level5">
<h5 id="add-image">Add image<a class="anchor" aria-label="anchor" href="#add-image"></a>
</h5>
<p>Next, add your image in this format (<a href="https://quarto.org/docs/authoring/figures.html" class="external-link">see this Quarto
documentation for more information</a>):</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode markdown"><code class="sourceCode markdown"><span id="cb11-1"><a href="#cb11-1" tabindex="-1"></a><span class="al">![Your caption here](your_image.png)</span>{width=___in #fig-your_image_label_name}</span></code></pre></div>
<blockquote>
<p><strong>NOTE</strong>: Remember that alternative text placed in this
markdown format will not be put into your final report file; it must be
in the captions_alt_text.csv file. However, <em>you must put the caption
here</em>.</p>
</blockquote>
<blockquote>
<p><strong>NOTE</strong>: It can be a headache to specify the correct
image path. We recommend placing your files in either of these
places:</p>
</blockquote>
<ol style="list-style-type: decimal">
<li>Your report folder (path = the image name, like
<em>image.png</em>)</li>
<li>A folder within your report folder (path = the relative filepath,
like <em>images/image.png</em> if there’s an images folder within
report)</li>
</ol>
<p>Here are some examples, using the following example folder structure
setup:</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode markdown"><code class="sourceCode markdown"><span id="cb12-1"><a href="#cb12-1" tabindex="-1"></a>stock_assessments_2025/</span>
<span id="cb12-2"><a href="#cb12-2" tabindex="-1"></a>├── captions_alt_text.csv</span>
<span id="cb12-3"><a href="#cb12-3" tabindex="-1"></a>├── report/</span>
<span id="cb12-4"><a href="#cb12-4" tabindex="-1"></a>│   ├── 01_executive_summary.qmd</span>
<span id="cb12-5"><a href="#cb12-5" tabindex="-1"></a>│   ├── 02_introduction.qmd</span>
<span id="cb12-6"><a href="#cb12-6" tabindex="-1"></a>│   ├── my_custom_figure.png</span>
<span id="cb12-7"><a href="#cb12-7" tabindex="-1"></a>│   ├── images/</span>
<span id="cb12-8"><a href="#cb12-8" tabindex="-1"></a>│   │   ├── my_custom_table.png</span></code></pre></div>
<div class="sourceCode" id="cb13"><pre class="sourceCode markdown"><code class="sourceCode markdown"><span id="cb13-1"><a href="#cb13-1" tabindex="-1"></a><span class="fu"># Example 1</span></span>
<span id="cb13-2"><a href="#cb13-2" tabindex="-1"></a><span class="al">![Here is my caption to my example figure.](my_custom_figure.png)</span>{width=3in #fig-custom_figure1}</span></code></pre></div>
<div class="sourceCode" id="cb14"><pre class="sourceCode markdown"><code class="sourceCode markdown"><span id="cb14-1"><a href="#cb14-1" tabindex="-1"></a><span class="fu"># Example 2</span></span>
<span id="cb14-2"><a href="#cb14-2" tabindex="-1"></a><span class="al">![Here is my caption to my example table.](images/my_custom_table.png)</span>{width=5in #fig-custom_table1}</span></code></pre></div>
</div>
<div class="section level5">
<h5 id="add-landscape-braces-optional">Add landscape braces (optional)<a class="anchor" aria-label="anchor" href="#add-landscape-braces-optional"></a>
</h5>
<p>If you’d like to place your image on a landscape-oriented page,
you’ll add <a href="https://quarto.org/docs/authoring/article-layout.html#landscape-mode" class="external-link">landscape
braces</a> before and after your table/figure to ensure it will be
displayed properly, like this:</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode default"><code class="sourceCode default"><span id="cb15-1"><a href="#cb15-1" tabindex="-1"></a>::: {.landscape}</span></code></pre></div>
<pre class="rmd"><code>![Your caption here](your_image.png){width=___in #fig-your_image_label_name}</code></pre>
<p>Then, add three colons to close the braces:</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode default"><code class="sourceCode default"><span id="cb17-1"><a href="#cb17-1" tabindex="-1"></a>:::</span></code></pre></div>
<blockquote>
<p><strong>NOTE</strong>: Landscape braces only work in <a href="https://quarto.org/docs/blog/posts/2024-11-25-1.6-release/" class="external-link">Quarto
v1.6+</a>. Please read <a href="https://github.com/nmfs-ost/asar/discussions/186" class="external-link">this
Discussion</a> to learn how to check your Quarto version and update it
if necessary.</p>
</blockquote>
</div>
<div class="section level5">
<h5 id="page-break">Page break<a class="anchor" aria-label="anchor" href="#page-break"></a>
</h5>
<p>If you are including more than one custom table or figure in a file,
we suggest adding a page break to separate the tables/figures:</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode default"><code class="sourceCode default"><span id="cb18-1"><a href="#cb18-1" tabindex="-1"></a>{{&lt; pagebreak &gt;}}</span></code></pre></div>
<p>You’re almost done! Proceed to the last section (<a href="#sec-update-skeleton">Update report skeleton</a>) to finish adding
your custom tables to your report.</p>
</div>
</div>
<div class="section level4">
<h4 id="rda-based-workflow-option-2-1">rda-based workflow (option 2)<a class="anchor" aria-label="anchor" href="#rda-based-workflow-option-2-1"></a>
</h4>
<div class="section level5">
<h5 id="tables-2">Tables<a class="anchor" aria-label="anchor" href="#tables-2"></a>
</h5>
<p>In your tables doc, add your first R chunk (shown below). This chunk
is used to establish your tables_dir folder and load the library needed
to plot your tables (<code>flextable</code>).</p>
<p>Click the following links to learn more about <a href="https://quarto.org/docs/computations/execution-options.html" class="external-link">cross-references</a>
(label) and <a href="https://quarto.org/docs/computations/execution-options.html" class="external-link">chunk
options</a> (echo, warning, etc.).</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode default"><code class="sourceCode default"><span id="cb19-1"><a href="#cb19-1" tabindex="-1"></a>```{r} </span>
<span id="cb19-2"><a href="#cb19-2" tabindex="-1"></a>#| label: 'set-rda-dir-tbls-custom' # you can set this label as you wish, as long as it's not repeated in any other R chunk in, for instance, the 08_tables.qmd or 09_figures.qmd files. Labels are used for cross-referencing in your report text.</span>
<span id="cb19-3"><a href="#cb19-3" tabindex="-1"></a>#| echo: false</span>
<span id="cb19-4"><a href="#cb19-4" tabindex="-1"></a>#| warning: false</span>
<span id="cb19-5"><a href="#cb19-5" tabindex="-1"></a>#| include: false</span>
<span id="cb19-6"><a href="#cb19-6" tabindex="-1"></a>library(flextable)</span>
<span id="cb19-7"><a href="#cb19-7" tabindex="-1"></a>tables_dir &lt;- "C:/path/to/your/tables" # set the path to your tables_dir</span>
<span id="cb19-8"><a href="#cb19-8" tabindex="-1"></a>``` </span></code></pre></div>
<p>Now, follow the instructions in the appropriate section depending on
your table width: regular, wide, or extra wide.</p>
<div class="section level6">
<h6 id="regular-table">Regular table<a class="anchor" aria-label="anchor" href="#regular-table"></a>
</h6>
<p>Add the following chunk to your script to import your table’s rda and
save objects containing the table and caption:</p>
<div class="sourceCode" id="cb20"><pre class="sourceCode default"><code class="sourceCode default"><span id="cb20-1"><a href="#cb20-1" tabindex="-1"></a>```{r} </span>
<span id="cb20-2"><a href="#cb20-2" tabindex="-1"></a>#| label: 'tbl-setup-custom1' # choose a label</span>
<span id="cb20-3"><a href="#cb20-3" tabindex="-1"></a>#| echo: false</span>
<span id="cb20-4"><a href="#cb20-4" tabindex="-1"></a>#| warning: false</span>
<span id="cb20-5"><a href="#cb20-5" tabindex="-1"></a>#| include: false</span>
<span id="cb20-6"><a href="#cb20-6" tabindex="-1"></a># load your rda and save with a table-specific name, then delete "rda"</span>
<span id="cb20-7"><a href="#cb20-7" tabindex="-1"></a>load(file.path(tables_dir, "example_tab.rda"))</span>
<span id="cb20-8"><a href="#cb20-8" tabindex="-1"></a>example_table_rda &lt;- rda</span>
<span id="cb20-9"><a href="#cb20-9" tabindex="-1"></a>rm(rda)</span>
<span id="cb20-10"><a href="#cb20-10" tabindex="-1"></a></span>
<span id="cb20-11"><a href="#cb20-11" tabindex="-1"></a># save table, caption as separate objects</span>
<span id="cb20-12"><a href="#cb20-12" tabindex="-1"></a>example_table &lt;- example_table_rda$table</span>
<span id="cb20-13"><a href="#cb20-13" tabindex="-1"></a>example_cap &lt;- example_table_rda$cap</span>
<span id="cb20-14"><a href="#cb20-14" tabindex="-1"></a>``` </span></code></pre></div>
<p>Then, add this chunk to display the table in your .qmd when it’s
rendered:</p>
<div class="sourceCode" id="cb21"><pre class="sourceCode default"><code class="sourceCode default"><span id="cb21-1"><a href="#cb21-1" tabindex="-1"></a>```{r} </span>
<span id="cb21-2"><a href="#cb21-2" tabindex="-1"></a>#| label: 'tbl-custom1' # choose a label</span>
<span id="cb21-3"><a href="#cb21-3" tabindex="-1"></a>#| echo: false</span>
<span id="cb21-4"><a href="#cb21-4" tabindex="-1"></a>#| warning: false</span>
<span id="cb21-5"><a href="#cb21-5" tabindex="-1"></a>#| tbl-cap: !expr example_cap</span>
<span id="cb21-6"><a href="#cb21-6" tabindex="-1"></a>example_table</span>
<span id="cb21-7"><a href="#cb21-7" tabindex="-1"></a>``` </span></code></pre></div>
<p>If you are adding another table, regardless of size, add a page break
first:</p>
<div class="sourceCode" id="cb22"><pre class="sourceCode default"><code class="sourceCode default"><span id="cb22-1"><a href="#cb22-1" tabindex="-1"></a>{{&lt; pagebreak &gt;}}</span></code></pre></div>
<p>Keep adding as many tables as you’d like. Keep in mind that each
table must have a chunk that imports it, and another chunk that displays
it, as shown above.</p>
<p>You’re almost done! Proceed to the last section (<a href="#sec-update-skeleton">Update report skeleton</a>) to finish adding
your custom tables to your report.</p>
</div>
<div class="section level6">
<h6 id="wide-table">Wide table<a class="anchor" aria-label="anchor" href="#wide-table"></a>
</h6>
<p>Add the following chunk to your script to import your table’s rda and
save objects containing the table and caption:</p>
<div class="sourceCode" id="cb23"><pre class="sourceCode default"><code class="sourceCode default"><span id="cb23-1"><a href="#cb23-1" tabindex="-1"></a>```{r} </span>
<span id="cb23-2"><a href="#cb23-2" tabindex="-1"></a>#| label: 'tbl-setup-custom1' # choose a label</span>
<span id="cb23-3"><a href="#cb23-3" tabindex="-1"></a>#| echo: false</span>
<span id="cb23-4"><a href="#cb23-4" tabindex="-1"></a>#| warning: false</span>
<span id="cb23-5"><a href="#cb23-5" tabindex="-1"></a>#| include: false</span>
<span id="cb23-6"><a href="#cb23-6" tabindex="-1"></a># load your rda and save with a table-specific name, then delete "rda"</span>
<span id="cb23-7"><a href="#cb23-7" tabindex="-1"></a>load(file.path(tables_dir, "example_tab.rda"))</span>
<span id="cb23-8"><a href="#cb23-8" tabindex="-1"></a>example_table_rda &lt;- rda</span>
<span id="cb23-9"><a href="#cb23-9" tabindex="-1"></a>rm(rda)</span>
<span id="cb23-10"><a href="#cb23-10" tabindex="-1"></a></span>
<span id="cb23-11"><a href="#cb23-11" tabindex="-1"></a># save table, caption as separate objects</span>
<span id="cb23-12"><a href="#cb23-12" tabindex="-1"></a>example_table &lt;- example_table_rda$table</span>
<span id="cb23-13"><a href="#cb23-13" tabindex="-1"></a>example_cap &lt;- example_table_rda$cap</span>
<span id="cb23-14"><a href="#cb23-14" tabindex="-1"></a>``` </span></code></pre></div>
<p>Before you add your next chunk, add <a href="https://quarto.org/docs/authoring/article-layout.html#landscape-mode" class="external-link">landscape
braces</a> to ensure your table will be displayed on a
landscape-oriented page:</p>
<div class="sourceCode" id="cb24"><pre class="sourceCode default"><code class="sourceCode default"><span id="cb24-1"><a href="#cb24-1" tabindex="-1"></a>::: {.landscape}</span></code></pre></div>
<p>Then, add this chunk to display the table in your .qmd when it’s
rendered:</p>
<div class="sourceCode" id="cb25"><pre class="sourceCode default"><code class="sourceCode default"><span id="cb25-1"><a href="#cb25-1" tabindex="-1"></a>```{r} </span>
<span id="cb25-2"><a href="#cb25-2" tabindex="-1"></a>#| label: 'tbl-custom1' # choose a label</span>
<span id="cb25-3"><a href="#cb25-3" tabindex="-1"></a>#| echo: false</span>
<span id="cb25-4"><a href="#cb25-4" tabindex="-1"></a>#| warning: false</span>
<span id="cb25-5"><a href="#cb25-5" tabindex="-1"></a>#| tbl-cap: !expr example_cap</span>
<span id="cb25-6"><a href="#cb25-6" tabindex="-1"></a>example_table |&gt;</span>
<span id="cb25-7"><a href="#cb25-7" tabindex="-1"></a>  flextable::fit_to_width(max_width = 8) # this extra line ensures the table will be resized to a maximum of 8" wide</span>
<span id="cb25-8"><a href="#cb25-8" tabindex="-1"></a>``` </span></code></pre></div>
<p>And add three colons to close the landscape braces:</p>
<div class="sourceCode" id="cb26"><pre class="sourceCode default"><code class="sourceCode default"><span id="cb26-1"><a href="#cb26-1" tabindex="-1"></a>:::</span></code></pre></div>
<blockquote>
<p><strong>NOTE</strong>: Landscape braces only work in <a href="https://quarto.org/docs/blog/posts/2024-11-25-1.6-release/" class="external-link">Quarto
v1.6+</a>. Please read <a href="https://github.com/nmfs-ost/asar/discussions/186" class="external-link">this
Discussion</a> to learn how to check your Quarto version and update it
if necessary.</p>
</blockquote>
<p>If you are adding another table, regardless of size, add a page break
first:</p>
<div class="sourceCode" id="cb27"><pre class="sourceCode default"><code class="sourceCode default"><span id="cb27-1"><a href="#cb27-1" tabindex="-1"></a>{{&lt; pagebreak &gt;}}</span></code></pre></div>
<p>Keep adding as many tables as you’d like. Keep in mind that each
table must have a chunk that imports it, and another chunk that displays
it, as shown above.</p>
<p>You’re almost done! Proceed to the last section (<a href="#sec-update-skeleton">Update report skeleton</a>) to finish adding
your custom tables to your report.</p>
</div>
<div class="section level6">
<h6 id="extra-wide-table">Extra-wide table<a class="anchor" aria-label="anchor" href="#extra-wide-table"></a>
</h6>
<p>Add the following chunk to your script to:</p>
<ul>
<li>import your <em>original table’s</em> rda</li>
<li>save original table’s caption as a separate object</li>
<li>import your <em>split tables’</em> rda</li>
<li>save split tables’ caption specifiers as a separate object</li>
</ul>
<div class="sourceCode" id="cb28"><pre class="sourceCode default"><code class="sourceCode default"><span id="cb28-1"><a href="#cb28-1" tabindex="-1"></a>```{r} </span>
<span id="cb28-2"><a href="#cb28-2" tabindex="-1"></a>#| label: 'tbl-labels-custom1' # choose a label</span>
<span id="cb28-3"><a href="#cb28-3" tabindex="-1"></a>#| echo: false</span>
<span id="cb28-4"><a href="#cb28-4" tabindex="-1"></a>#| warning: false</span>
<span id="cb28-5"><a href="#cb28-5" tabindex="-1"></a>#| include: false</span>
<span id="cb28-6"><a href="#cb28-6" tabindex="-1"></a># load your original table rda and save with a table-specific name, then delete "rda"</span>
<span id="cb28-7"><a href="#cb28-7" tabindex="-1"></a>load(file.path(tables_dir, "example_tab.rda"))</span>
<span id="cb28-8"><a href="#cb28-8" tabindex="-1"></a>example_table_rda &lt;- rda</span>
<span id="cb28-9"><a href="#cb28-9" tabindex="-1"></a>rm(rda)</span>
<span id="cb28-10"><a href="#cb28-10" tabindex="-1"></a></span>
<span id="cb28-11"><a href="#cb28-11" tabindex="-1"></a># save caption as separate object</span>
<span id="cb28-12"><a href="#cb28-12" tabindex="-1"></a>example_cap &lt;- example_table_rda$cap</span>
<span id="cb28-13"><a href="#cb28-13" tabindex="-1"></a></span>
<span id="cb28-14"><a href="#cb28-14" tabindex="-1"></a># load split table rda and save with a table-specific name, then delete "table_list"</span>
<span id="cb28-15"><a href="#cb28-15" tabindex="-1"></a>load(file.path(tables_dir, "example_table_split.rda"))</span>
<span id="cb28-16"><a href="#cb28-16" tabindex="-1"></a>example_table_rda_split &lt;- table_list</span>
<span id="cb28-17"><a href="#cb28-17" tabindex="-1"></a>rm(table_list)</span>
<span id="cb28-18"><a href="#cb28-18" tabindex="-1"></a></span>
<span id="cb28-19"><a href="#cb28-19" tabindex="-1"></a># extract table caption specifiers</span>
<span id="cb28-20"><a href="#cb28-20" tabindex="-1"></a>example_cap_split &lt;- names(example_table_rda_split)</span>
<span id="cb28-21"><a href="#cb28-21" tabindex="-1"></a>``` </span></code></pre></div>
<p>Example caption specifiers could include fleets only shown in
specific tables.</p>
<p>Before you add your next chunk, add <a href="https://quarto.org/docs/authoring/article-layout.html#landscape-mode" class="external-link">landscape
braces</a> to ensure your table will be displayed on a
landscape-oriented page:</p>
<div class="sourceCode" id="cb29"><pre class="sourceCode default"><code class="sourceCode default"><span id="cb29-1"><a href="#cb29-1" tabindex="-1"></a>::: {.landscape}</span></code></pre></div>
<p>Now, you’ll add as many chunks as you have split tables. Here’s what
the first one will look like:</p>
<div class="sourceCode" id="cb30"><pre class="sourceCode default"><code class="sourceCode default"><span id="cb30-1"><a href="#cb30-1" tabindex="-1"></a>```{r} </span>
<span id="cb30-2"><a href="#cb30-2" tabindex="-1"></a>#| label: 'tbl-custom1' # choose a label</span>
<span id="cb30-3"><a href="#cb30-3" tabindex="-1"></a>#| echo: false</span>
<span id="cb30-4"><a href="#cb30-4" tabindex="-1"></a>#| warning: false</span>
<span id="cb30-5"><a href="#cb30-5" tabindex="-1"></a>#| tbl-cap: !expr paste0(example_cap, '(', example_cap_split[[1]], ')') # this pastes the original table caption with the specifiers associated with table 1</span>
<span id="cb30-6"><a href="#cb30-6" tabindex="-1"></a></span>
<span id="cb30-7"><a href="#cb30-7" tabindex="-1"></a># plot split table 1</span>
<span id="cb30-8"><a href="#cb30-8" tabindex="-1"></a>example_table_rda_split[[1]] |&gt;</span>
<span id="cb30-9"><a href="#cb30-9" tabindex="-1"></a>  flextable::fit_to_width(max_width = 8) # this extra line ensures the table will be resized to a maximum of 8" wide</span>
<span id="cb30-10"><a href="#cb30-10" tabindex="-1"></a>``` </span></code></pre></div>
<p>Copy and paste this chunk for as many split tables as you have. Then,
replace the instances of “1” with the split table number (e.g., 2,3,4,
etc.). In the example above, “1” occurs in the chunk options (label,
tbl-cap) and the table-plotting code itself.</p>
<p>Now, add three colons to close the landscape braces:</p>
<div class="sourceCode" id="cb31"><pre class="sourceCode default"><code class="sourceCode default"><span id="cb31-1"><a href="#cb31-1" tabindex="-1"></a>:::</span></code></pre></div>
<blockquote>
<p><strong>NOTE</strong>: Landscape braces only work in <a href="https://quarto.org/docs/blog/posts/2024-11-25-1.6-release/" class="external-link">Quarto
v1.6+</a>. Please read <a href="https://github.com/nmfs-ost/asar/discussions/186" class="external-link">this
Discussion</a> to learn how to check your Quarto version and update it
if necessary.</p>
</blockquote>
<p>Keep adding as many tables as you’d like. Keep in mind that each
table must have a chunk that imports it, and another chunk that displays
it, as shown above.</p>
<p>You’re almost done! Proceed to the last section (<a href="#sec-update-skeleton">Update report skeleton</a>) to finish adding
your custom tables to your report.</p>
</div>
</div>
<div class="section level5">
<h5 id="figures-2">Figures<a class="anchor" aria-label="anchor" href="#figures-2"></a>
</h5>
<p>The workflow for figures is very similar to the workflow for regular
tables.</p>
<p>In your figures doc, add your first R chunk (shown below). This chunk
is used to establish your figures_dir folder.</p>
<p>Click the following links to learn more about <a href="https://quarto.org/docs/computations/execution-options.html" class="external-link">cross-references</a>
(label) and <a href="https://quarto.org/docs/computations/execution-options.html" class="external-link">chunk
options</a> (echo, warning, etc.).</p>
<div class="sourceCode" id="cb32"><pre class="sourceCode default"><code class="sourceCode default"><span id="cb32-1"><a href="#cb32-1" tabindex="-1"></a>```{r} </span>
<span id="cb32-2"><a href="#cb32-2" tabindex="-1"></a>#| label: 'set-rda-dir-figs-custom' # you can set this label as you wish, as long as it's not repeated in any other R chunk in, for instance, the 08_tables.qmd or 09_figures.qmd files. Labels are used for cross-referencing in your report text.</span>
<span id="cb32-3"><a href="#cb32-3" tabindex="-1"></a>#| echo: false</span>
<span id="cb32-4"><a href="#cb32-4" tabindex="-1"></a>#| warning: false</span>
<span id="cb32-5"><a href="#cb32-5" tabindex="-1"></a>figures_dir &lt;- "C:/path/to/your/figures" # set the path to your figures_dir</span>
<span id="cb32-6"><a href="#cb32-6" tabindex="-1"></a>``` </span></code></pre></div>
<p>Add the following chunk to your script to import your figure’s rda
and save objects containing the figure, caption, and alternative
text:</p>
<div class="sourceCode" id="cb33"><pre class="sourceCode default"><code class="sourceCode default"><span id="cb33-1"><a href="#cb33-1" tabindex="-1"></a>```{r} </span>
<span id="cb33-2"><a href="#cb33-2" tabindex="-1"></a>#| label: 'fig-setup-custom1' # choose a label</span>
<span id="cb33-3"><a href="#cb33-3" tabindex="-1"></a>#| echo: false</span>
<span id="cb33-4"><a href="#cb33-4" tabindex="-1"></a>#| warning: false</span>
<span id="cb33-5"><a href="#cb33-5" tabindex="-1"></a>#| include: false</span>
<span id="cb33-6"><a href="#cb33-6" tabindex="-1"></a># load your rda and save with a figure-specific name, then delete "rda"</span>
<span id="cb33-7"><a href="#cb33-7" tabindex="-1"></a>load(file.path(figures_dir, "example_fig.rda"))</span>
<span id="cb33-8"><a href="#cb33-8" tabindex="-1"></a>example_figure_rda &lt;- rda</span>
<span id="cb33-9"><a href="#cb33-9" tabindex="-1"></a>rm(rda)</span>
<span id="cb33-10"><a href="#cb33-10" tabindex="-1"></a></span>
<span id="cb33-11"><a href="#cb33-11" tabindex="-1"></a># save figure, caption, and alternative text as separate objects</span>
<span id="cb33-12"><a href="#cb33-12" tabindex="-1"></a>example_plot &lt;- example_figure_rda$figure</span>
<span id="cb33-13"><a href="#cb33-13" tabindex="-1"></a>example_cap &lt;- example_figure_rda$cap</span>
<span id="cb33-14"><a href="#cb33-14" tabindex="-1"></a>example_alt_text &lt;- example_figure_rda$alt_text</span>
<span id="cb33-15"><a href="#cb33-15" tabindex="-1"></a>``` </span></code></pre></div>
<p>Then, add this chunk to display the figure in your .qmd when it’s
rendered:</p>
<div class="sourceCode" id="cb34"><pre class="sourceCode default"><code class="sourceCode default"><span id="cb34-1"><a href="#cb34-1" tabindex="-1"></a>```{r} </span>
<span id="cb34-2"><a href="#cb34-2" tabindex="-1"></a>#| label: 'fig-custom1' # choose a label</span>
<span id="cb34-3"><a href="#cb34-3" tabindex="-1"></a>#| echo: false</span>
<span id="cb34-4"><a href="#cb34-4" tabindex="-1"></a>#| warning: false</span>
<span id="cb34-5"><a href="#cb34-5" tabindex="-1"></a>#| fig-cap: !expr example_cap</span>
<span id="cb34-6"><a href="#cb34-6" tabindex="-1"></a>#| fig-alt: !expr example_alt_text</span>
<span id="cb34-7"><a href="#cb34-7" tabindex="-1"></a>example_plot</span>
<span id="cb34-8"><a href="#cb34-8" tabindex="-1"></a>``` </span></code></pre></div>
<p>If you are adding another figure, add a page break first:</p>
<div class="sourceCode" id="cb35"><pre class="sourceCode default"><code class="sourceCode default"><span id="cb35-1"><a href="#cb35-1" tabindex="-1"></a>{{&lt; pagebreak &gt;}}</span></code></pre></div>
<p>You’re almost done! Proceed to the last section (<a href="#sec-update-skeleton">Update report skeleton</a>) to finish adding
your custom figures to your report.</p>
</div>
</div>
<div class="section level4">
<h4 id="direct-coding-in-qmd-workflow-option-3-2">Direct coding-in-qmd workflow (option 3)<a class="anchor" aria-label="anchor" href="#direct-coding-in-qmd-workflow-option-3-2"></a>
</h4>
<div class="section level5">
<h5 id="tables-3">Tables<a class="anchor" aria-label="anchor" href="#tables-3"></a>
</h5>
<p>Follow the instructions in the appropriate section depending on your
table width: regular or wide.</p>
<div class="section level6">
<h6 id="regular-table-1">Regular table<a class="anchor" aria-label="anchor" href="#regular-table-1"></a>
</h6>
<p>Add the following chunk to display the table in your .qmd when it’s
rendered:</p>
<div class="sourceCode" id="cb36"><pre class="sourceCode default"><code class="sourceCode default"><span id="cb36-1"><a href="#cb36-1" tabindex="-1"></a>```{r} </span>
<span id="cb36-2"><a href="#cb36-2" tabindex="-1"></a>#| label: 'tbl-custom1' # choose a label</span>
<span id="cb36-3"><a href="#cb36-3" tabindex="-1"></a>#| echo: false</span>
<span id="cb36-4"><a href="#cb36-4" tabindex="-1"></a>#| warning: false</span>
<span id="cb36-5"><a href="#cb36-5" tabindex="-1"></a>#| tbl-cap: !expr This is your table caption.</span>
<span id="cb36-6"><a href="#cb36-6" tabindex="-1"></a></span>
<span id="cb36-7"><a href="#cb36-7" tabindex="-1"></a># Import your data</span>
<span id="cb36-8"><a href="#cb36-8" tabindex="-1"></a>your_df &lt;- data.frame(</span>
<span id="cb36-9"><a href="#cb36-9" tabindex="-1"></a>  "x" = c(1, 2, 3),</span>
<span id="cb36-10"><a href="#cb36-10" tabindex="-1"></a>  "y" = c(4, 5, 6)</span>
<span id="cb36-11"><a href="#cb36-11" tabindex="-1"></a>)</span>
<span id="cb36-12"><a href="#cb36-12" tabindex="-1"></a></span>
<span id="cb36-13"><a href="#cb36-13" tabindex="-1"></a># Make your table</span>
<span id="cb36-14"><a href="#cb36-14" tabindex="-1"></a>your_table &lt;- flextable::flextable(your_df)</span>
<span id="cb36-15"><a href="#cb36-15" tabindex="-1"></a></span>
<span id="cb36-16"><a href="#cb36-16" tabindex="-1"></a># Show your table</span>
<span id="cb36-17"><a href="#cb36-17" tabindex="-1"></a>your_table</span>
<span id="cb36-18"><a href="#cb36-18" tabindex="-1"></a>``` </span></code></pre></div>
<p>If you are adding another table, regardless of size, add a page break
first:</p>
<div class="sourceCode" id="cb37"><pre class="sourceCode default"><code class="sourceCode default"><span id="cb37-1"><a href="#cb37-1" tabindex="-1"></a>{{&lt; pagebreak &gt;}}</span></code></pre></div>
<p>Keep adding as many tables as you’d like. Keep in mind that each
table must have a chunk that imports it, and another chunk that displays
it, as shown above.</p>
<p>You’re almost done! Proceed to the last section (<a href="#sec-update-skeleton">Update report skeleton</a>) to finish adding
your custom tables to your report.</p>
</div>
<div class="section level6">
<h6 id="wide-table-1">Wide table<a class="anchor" aria-label="anchor" href="#wide-table-1"></a>
</h6>
<p>Before you add your first chunk, add <a href="https://quarto.org/docs/authoring/article-layout.html#landscape-mode" class="external-link">landscape
braces</a> to ensure your table will be displayed on a
landscape-oriented page:</p>
<div class="sourceCode" id="cb38"><pre class="sourceCode default"><code class="sourceCode default"><span id="cb38-1"><a href="#cb38-1" tabindex="-1"></a>::: {.landscape}</span></code></pre></div>
<p>Then, add the following chunk to display the table in your .qmd when
it’s rendered:</p>
<div class="sourceCode" id="cb39"><pre class="sourceCode default"><code class="sourceCode default"><span id="cb39-1"><a href="#cb39-1" tabindex="-1"></a>```{r} </span>
<span id="cb39-2"><a href="#cb39-2" tabindex="-1"></a>#| label: 'tbl-custom1' # choose a label</span>
<span id="cb39-3"><a href="#cb39-3" tabindex="-1"></a>#| echo: false</span>
<span id="cb39-4"><a href="#cb39-4" tabindex="-1"></a>#| warning: false</span>
<span id="cb39-5"><a href="#cb39-5" tabindex="-1"></a>#| tbl-cap: !expr This is your table caption.</span>
<span id="cb39-6"><a href="#cb39-6" tabindex="-1"></a></span>
<span id="cb39-7"><a href="#cb39-7" tabindex="-1"></a># Import your data</span>
<span id="cb39-8"><a href="#cb39-8" tabindex="-1"></a>your_df &lt;- data.frame(</span>
<span id="cb39-9"><a href="#cb39-9" tabindex="-1"></a>  "x" = c(1, 2, 3),</span>
<span id="cb39-10"><a href="#cb39-10" tabindex="-1"></a>  "y" = c(4, 5, 6)</span>
<span id="cb39-11"><a href="#cb39-11" tabindex="-1"></a>)</span>
<span id="cb39-12"><a href="#cb39-12" tabindex="-1"></a></span>
<span id="cb39-13"><a href="#cb39-13" tabindex="-1"></a># Make your table</span>
<span id="cb39-14"><a href="#cb39-14" tabindex="-1"></a>your_table &lt;- flextable::flextable(your_df) |&gt;</span>
<span id="cb39-15"><a href="#cb39-15" tabindex="-1"></a>  flextable::fit_to_width(max_width = 8) # this extra line ensures the table will be resized to a maximum of 8" wide</span>
<span id="cb39-16"><a href="#cb39-16" tabindex="-1"></a></span>
<span id="cb39-17"><a href="#cb39-17" tabindex="-1"></a># Show your table</span>
<span id="cb39-18"><a href="#cb39-18" tabindex="-1"></a>your_table</span>
<span id="cb39-19"><a href="#cb39-19" tabindex="-1"></a>``` </span></code></pre></div>
<p>And add three colons to close the landscape braces:</p>
<div class="sourceCode" id="cb40"><pre class="sourceCode default"><code class="sourceCode default"><span id="cb40-1"><a href="#cb40-1" tabindex="-1"></a>:::</span></code></pre></div>
<blockquote>
<p><strong>NOTE</strong>: Landscape braces only work in <a href="https://quarto.org/docs/blog/posts/2024-11-25-1.6-release/" class="external-link">Quarto
v1.6+</a>. Please read <a href="https://github.com/nmfs-ost/asar/discussions/186" class="external-link">this
Discussion</a> to learn how to check your Quarto version and update it
if necessary.</p>
</blockquote>
<p>If you are adding another table, regardless of size, add a page break
first:</p>
<div class="sourceCode" id="cb41"><pre class="sourceCode default"><code class="sourceCode default"><span id="cb41-1"><a href="#cb41-1" tabindex="-1"></a>{{&lt; pagebreak &gt;}}</span></code></pre></div>
<p>Keep adding as many tables as you’d like. Keep in mind that each
table must have a chunk that imports it, and another chunk that displays
it, as shown above.</p>
<p>You’re almost done! Proceed to the last section (<a href="#sec-update-skeleton">Update report skeleton</a>) to finish adding
your custom tables to your report.</p>
</div>
</div>
<div class="section level5">
<h5 id="figures-3">Figures<a class="anchor" aria-label="anchor" href="#figures-3"></a>
</h5>
<p>The workflow for figures is very similar to the workflow for regular
tables.</p>
<p>In your figures doc, add the following chunk to display the figure in
your .qmd when it’s rendered:</p>
<div class="sourceCode" id="cb42"><pre class="sourceCode default"><code class="sourceCode default"><span id="cb42-1"><a href="#cb42-1" tabindex="-1"></a>```{r} </span>
<span id="cb42-2"><a href="#cb42-2" tabindex="-1"></a>#| label: 'fig-custom1' # choose a label</span>
<span id="cb42-3"><a href="#cb42-3" tabindex="-1"></a>#| echo: false</span>
<span id="cb42-4"><a href="#cb42-4" tabindex="-1"></a>#| warning: false</span>
<span id="cb42-5"><a href="#cb42-5" tabindex="-1"></a>#| fig-cap: !expr This is your figure caption.</span>
<span id="cb42-6"><a href="#cb42-6" tabindex="-1"></a>#| fig-alt: !expr This is your figure alternative text.</span>
<span id="cb42-7"><a href="#cb42-7" tabindex="-1"></a># Import your data</span>
<span id="cb42-8"><a href="#cb42-8" tabindex="-1"></a>your_df &lt;- data.frame(</span>
<span id="cb42-9"><a href="#cb42-9" tabindex="-1"></a>  "x" = c(1, 2, 3),</span>
<span id="cb42-10"><a href="#cb42-10" tabindex="-1"></a>  "y" = c(4, 5, 6)</span>
<span id="cb42-11"><a href="#cb42-11" tabindex="-1"></a>)</span>
<span id="cb42-12"><a href="#cb42-12" tabindex="-1"></a></span>
<span id="cb42-13"><a href="#cb42-13" tabindex="-1"></a># Make your figure</span>
<span id="cb42-14"><a href="#cb42-14" tabindex="-1"></a>your_figure &lt;- ggplot2::ggplot(</span>
<span id="cb42-15"><a href="#cb42-15" tabindex="-1"></a>  your_df,</span>
<span id="cb42-16"><a href="#cb42-16" tabindex="-1"></a>  aes(</span>
<span id="cb42-17"><a href="#cb42-17" tabindex="-1"></a>    x = x,</span>
<span id="cb42-18"><a href="#cb42-18" tabindex="-1"></a>    y = y</span>
<span id="cb42-19"><a href="#cb42-19" tabindex="-1"></a>  )</span>
<span id="cb42-20"><a href="#cb42-20" tabindex="-1"></a>) +</span>
<span id="cb42-21"><a href="#cb42-21" tabindex="-1"></a>  ggplot2::geom_point()</span>
<span id="cb42-22"><a href="#cb42-22" tabindex="-1"></a></span>
<span id="cb42-23"><a href="#cb42-23" tabindex="-1"></a># Show your figure</span>
<span id="cb42-24"><a href="#cb42-24" tabindex="-1"></a>your_figure</span>
<span id="cb42-25"><a href="#cb42-25" tabindex="-1"></a>``` </span></code></pre></div>
<p>If you are adding another figure, add a page break first:</p>
<div class="sourceCode" id="cb43"><pre class="sourceCode default"><code class="sourceCode default"><span id="cb43-1"><a href="#cb43-1" tabindex="-1"></a>{{&lt; pagebreak &gt;}}</span></code></pre></div>
<p>You’re almost done! Proceed to the last section (<a href="#sec-update-skeleton">Update report skeleton</a>) to finish adding
your custom figures to your report.</p>
</div>
</div>
</div>
</div>
<div class="section level2">
<h2 id="sec-update-skeleton">Update report skeleton<a class="anchor" aria-label="anchor" href="#sec-update-skeleton"></a>
</h2>
<p>Finally, the last step is to update the report skeleton so that it
imports your new custom table and figure .qmd files.</p>
<p>Open your skeleton .qmd file. Scroll down to the chunks that contain
tables and figures (their labels are “tables” and “figures”,
respectively).</p>
<p>Your “tables” chunk will look similar, if not identical, to this:</p>
<div class="sourceCode" id="cb44"><pre class="sourceCode default"><code class="sourceCode default"><span id="cb44-1"><a href="#cb44-1" tabindex="-1"></a>```{r, results='asis'}</span>
<span id="cb44-2"><a href="#cb44-2" tabindex="-1"></a>#| label: 'tables'</span>
<span id="cb44-3"><a href="#cb44-3" tabindex="-1"></a>#| eval: true</span>
<span id="cb44-4"><a href="#cb44-4" tabindex="-1"></a>#| echo: false</span>
<span id="cb44-5"><a href="#cb44-5" tabindex="-1"></a>#| warning: false</span>
<span id="cb44-6"><a href="#cb44-6" tabindex="-1"></a>a &lt;- knitr::knit_child("08_tables.qmd", quiet = TRUE)</span>
<span id="cb44-7"><a href="#cb44-7" tabindex="-1"></a>cat(a, sep = "\n")</span>
<span id="cb44-8"><a href="#cb44-8" tabindex="-1"></a>```</span></code></pre></div>
<p>If you are adding custom tables, copy the two lines of code that
start with “a &lt;- knitr::” and “cat”. Paste them below the original
two lines of code in the same chunk. Then, in those two new lines, make
the following changes:</p>
<ol style="list-style-type: decimal">
<li>Change “a” to “b”</li>
<li>Replace ‘08_tables.qmd’ with the name of your new custom .qmd</li>
</ol>
<p>For example:</p>
<div class="sourceCode" id="cb45"><pre class="sourceCode default"><code class="sourceCode default"><span id="cb45-1"><a href="#cb45-1" tabindex="-1"></a>```{r, results='asis'}</span>
<span id="cb45-2"><a href="#cb45-2" tabindex="-1"></a>#| label: 'tables'</span>
<span id="cb45-3"><a href="#cb45-3" tabindex="-1"></a>#| eval: true</span>
<span id="cb45-4"><a href="#cb45-4" tabindex="-1"></a>#| echo: false</span>
<span id="cb45-5"><a href="#cb45-5" tabindex="-1"></a>#| warning: false</span>
<span id="cb45-6"><a href="#cb45-6" tabindex="-1"></a>a &lt;- knitr::knit_child("08_tables.qmd", quiet = TRUE)</span>
<span id="cb45-7"><a href="#cb45-7" tabindex="-1"></a>cat(a, sep = "\n")</span>
<span id="cb45-8"><a href="#cb45-8" tabindex="-1"></a>b &lt;- knitr::knit_child("08_tables_custom.qmd", quiet = TRUE)</span>
<span id="cb45-9"><a href="#cb45-9" tabindex="-1"></a>cat(b, sep = "\n")</span>
<span id="cb45-10"><a href="#cb45-10" tabindex="-1"></a>```</span></code></pre></div>
<p>If you’re adding custom figures, follow the same steps with the
figures chunk.</p>
<p>Save the changes to your skeleton, and you’re done! Your custom
tables and figures will be included in your report.</p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

      </div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by Samantha Schiano, Sophie Breitbart, Steve Saul.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

      </footer>
</div>






  </body>
</html>
